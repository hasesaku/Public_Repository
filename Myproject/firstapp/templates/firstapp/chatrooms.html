<!-- chatrooms.html -->
{% extends 'firstapp/base.html' %}

{% block content %}
<h2>チャットに参加しよう！</h2>

<!-- チャットルーム参加フォーム -->
<form method="post">
    {% csrf_token %}
    {{ join_form.as_p }}
    <div style="text-align: center;">
        <button type="submit">チャットに参加</button>
    </div>
</form>

<!-- チャットルーム一覧表示 -->
<h4>チャットルーム一覧</h4>
<ul class="list-group">
    {% for chat_room in chat_rooms %}
    <!-- 修正: チャットルーム名を表示する -->
    <li class="list-group-item">{{ chat_room.name }}</li>
    {% endfor %}
    <div style="text-align: center;">
        <a href="{% url 'firstapp:new_chatroom' %}" class="btn btn-success btn-margin">新しいチャットルームを作成</a>
    </div>
{% endblock %}



{% comment %} {% extends 'firstapp/base.html' %}

{% block content %}
<h2>チャットルーム検索</h2>
<!-- 検索フォーム -->
<form method="post">
    {% csrf_token %}
    {{ search_form.as_p }}
    <button type="submit">検索</button>
</form>

<h2>チャットルーム一覧</h2>
<ul>
    {% for chat_room in chat_rooms %}
    <li><a href="{% url 'firstapp:chat_post' chat_room %}">{{ chat_room }}</a></li>
    {% endfor %}
</ul>
{% endblock %} {% endcomment %}